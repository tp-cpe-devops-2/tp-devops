---
# tasks file for roles/proxy
- name: ArrÃªter le container Docker 'httpd' s'il existe
  command: docker stop httpd
  ignore_errors: true

- name: Supprimer le container Docker 'httpd' s'il existe
  command: docker rm httpd
  ignore_errors: true

- name: Tirer l'image Docker depuis Docker Hub
  command: docker pull "{{ docker_image }}"

- name: Lancer le container Docker 'httpd'
  command: docker run -d -p {{ port_expose }} --network {{ network }} --name httpd "{{ docker_image }}"

- name: Afficher le message de confirmation
  debug:
    msg: "httpd is running ..."
